#!/usr/bin/env python
"""httping - a simple tool to hit websites at a given interval and display
whether they are up or not.

Usage:
    httping <url> [-H] [--interval=<seconds>]
    httping -h | --help

Options:
    -h --help                Show this screen.
    -H --headers             Show the headers returned by each request.
    -i --interval=<seconds>  Time between requests, in seconds. [default: 1]
"""

import signal
import sys
from docopt import docopt

from httping import httping

def signal_handler(signal, frame):
    sys.exit(0)


if __name__ == '__main__':
    args = docopt(__doc__, version='HTTPing 0.1')
    try:
        interval = float(args['--interval'])
    except ValueError:
        interval = 1
    signal.signal(signal.SIGINT, signal_handler)
    httping(args['<url>'], interval=interval,
         show_headers=args['--headers'])

    signal.pause()